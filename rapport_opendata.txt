\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage[T1]{fontenc}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{enumitem}
\usepackage{xcolor}
\usepackage{fancyhdr}
\usepackage{tcolorbox}
\usepackage{minted}
\usepackage{booktabs}

\geometry{margin=2.5cm}

\pagestyle{fancy}
\fancyhf{}
\rhead{Flight Tracker Pro}
\lhead{UE OpenData}
\rfoot{Page \thepage}

\definecolor{codebackground}{RGB}{248,248,248}

\title{\textbf{\Huge Flight Tracker Pro} \\
       \vspace{0.5cm}
       \Large Dashboard de Surveillance du Trafic Aérien \\
       \vspace{0.3cm}
       \large Rapport de Projet - UE OpenData}

\author{
    Aness RABIA \and Giorgios STEPHANOS
}
\date{Année Universitaire 2024-2025}

\begin{document}

\maketitle
\thispagestyle{empty}

\begin{abstract}
Ce rapport présente Flight Tracker Pro, un dashboard web de visualisation du trafic aérien mondial en temps réel exploitant les données ouvertes de l'API OpenSky Network. Le projet démontre l'utilité des données ouvertes pour la recherche et l'analyse environnementale, en permettant de suivre plus de 10~000 vols simultanés et d'analyser leur impact écologique.
\end{abstract}

\newpage

% ==========================================
\section{Introduction}
% ==========================================

\subsection{Contexte}

Le trafic aérien génère quotidiennement des millions de données de vol. OpenSky Network, un réseau collaboratif de plus de 20~000 récepteurs ADS-B à travers le monde, collecte et rend publiques ces données en temps réel. Ces données ouvertes permettent des analyses approfondies sur le trafic aérien, la congestion, et surtout l'impact environnemental du secteur aérien.

\subsection{Problématique}

Comment exploiter les données ouvertes du trafic aérien pour créer un outil d'analyse accessible permettant de visualiser, comprendre et évaluer l'impact environnemental de l'aviation mondiale ?

\subsection{Objectifs}

\begin{itemize}
    \item Explorer l'API OpenSky Network (open data)
    \item Développer un dashboard web interactif
    \item Analyser la densité du trafic aérien mondial
    \item Évaluer les possibilités d'analyse environnementale (pollution, émissions CO₂)
    \item Créer une solution gratuite et open-source
\end{itemize}

\subsection{Méthodologie}

\textbf{Durée :} 4 semaines (novembre 2024)

\textbf{Équipe :} 2 personnes (Aness RABIA, Giorgios STEPHANOS)

\textbf{Technologies :} Python 3.13, Streamlit, Plotly, Pandas, API OpenSky Network

% ==========================================
\section{OpenSky Network : Open Data pour la Recherche}
% ==========================================

\subsection{Présentation}

OpenSky Network est une initiative à but non lucratif qui met à disposition gratuitement des données de vol en temps réel. Cette ressource constitue une opportunité unique pour la recherche académique, permettant d'étudier le trafic aérien sans coût d'infrastructure.

\subsection{API REST}

L'API OpenSky offre plusieurs endpoints :

\begin{table}[H]
\centering
\begin{tabular}{|l|p{8cm}|}
\hline
\textbf{Endpoint} & \textbf{Description} \\ \hline
\texttt{/states/all} & État actuel de tous les vols détectés \\ \hline
\texttt{/tracks/all} & Trajectoire complète d'un vol spécifique \\ \hline
\texttt{/flights/all} & Historique des vols sur une période \\ \hline
\end{tabular}
\end{table}

\subsection{Exemple de requête}

\begin{minted}[bgcolor=codebackground, frame=lines, framesep=2mm, fontsize=\small]{python}
import requests

# Récupérer tous les vols dans une zone (Europe)
response = requests.get(
    "https://opensky-network.org/api/states/all",
    params={
        'lamin': 40.0,  # Latitude min
        'lomin': -10.0, # Longitude min
        'lamax': 55.0,  # Latitude max
        'lomax': 30.0   # Longitude max
    }
)

data = response.json()
print(f"Vols détectés : {len(data['states'])}")
# Résultat : ~3000 vols en Europe
\end{minted}

\subsection{Exemple de données retournées}

Chaque vol est représenté par 17 champs :

\begin{minted}[bgcolor=codebackground, frame=lines, framesep=2mm, fontsize=\footnotesize]{json}
{
  "time": 1701432000,
  "states": [
    [
      "3c6444",           // icao24 (ID unique avion)
      "BAW123",           // callsign (numéro de vol)
      "United Kingdom",   // origin_country
      -0.4619,            // longitude
      51.4706,            // latitude
      10668,              // altitude barométrique (m)
      false,              // on_ground (au sol ?)
      250.5,              // velocity (vitesse m/s)
      180.5,              // true_track (direction degrés)
      5.2                 // vertical_rate (taux montée m/s)
    ]
  ]
}
\end{minted}

\textbf{Observation :} Ces données brutes permettent des analyses variées : statistiques de vol, densité de trafic, corrélations, et estimations d'émissions polluantes.

% ==========================================
\section{Développement du Projet : Avancement Hebdomadaire}
% ==========================================

\subsection{Semaine 1 : Exploration et Configuration}

\textbf{Objectif :} Comprendre l'API OpenSky et mettre en place l'environnement de développement.

\textbf{Réalisations :}
\begin{itemize}
    \item Exploration de la documentation OpenSky Network
    \item Tests de requêtes API avec différentes zones géographiques
    \item Configuration de l'authentification OAuth2
    \item Installation de l'environnement Python (Streamlit, Plotly, Pandas)
    \item Premiers tests de récupération de données
\end{itemize}

\textbf{Résultats :}
\begin{itemize}
    \item Compréhension de la structure des données (17 champs par vol)
    \item Configuration réussie avec limites de requêtes élevées (OAuth2)
    \item Détection moyenne de 10~000+ vols sur zone mondiale
\end{itemize}

\subsection{Semaine 2 : Traitement des Données et Première Carte}

\textbf{Objectif :} Nettoyer les données et créer une première visualisation cartographique.

\textbf{Réalisations :}
\begin{itemize}
    \item Développement du pipeline de traitement des données
    \item Gestion des valeurs manquantes et données invalides
    \item Conversion des unités (m/s → knots, mètres → feet)
    \item Calcul du statut de vol (montée/descente/croisière/sol)
    \item Création de la carte interactive avec Plotly
    \item Reconnaissance automatique des compagnies aériennes (24+ compagnies)
\end{itemize}

\textbf{Résultats :}
\begin{itemize}
    \item Pipeline fonctionnel avec nettoyage automatique
    \item Première carte interactive avec 4 couleurs par statut
    \item Identification de compagnies : Air France, Lufthansa, Emirates, etc.
\end{itemize}

\subsection{Semaine 3 : Analyses Statistiques et Optimisations}

\textbf{Objectif :} Implémenter les analyses statistiques et améliorer les performances.

\textbf{Réalisations :}
\begin{itemize}
    \item Création de 7 onglets d'analyse (Carte, Analyses, Heatmap, Compagnies, Liste, Détails, Statistiques)
    \item Développement de la heatmap de densité du trafic
    \item Analyses statistiques : distributions altitude/vitesse, top pays, corrélations
    \item Optimisation de la carte : migration Scattergeo → Scattermapbox (× 10 plus rapide)
    \item Implémentation de filtres (région, altitude, vitesse, pays, compagnie)
\end{itemize}

\textbf{Résultats :}
\begin{itemize}
    \item Application fluide avec 10~000+ vols (60 FPS)
    \item Heatmap avec grilles de 2°×2° (zones de ~200 km)
    \item Identification des zones les plus denses (Amsterdam, Paris, Londres)
\end{itemize}

\subsection{Semaine 4 : Design, Tests et Documentation}

\textbf{Objectif :} Finaliser le design, corriger les bugs et documenter le projet.

\textbf{Réalisations :}
\begin{itemize}
    \item Design moderne avec CSS personnalisé (bleu/blanc minimaliste)
    \item Corrections de bugs (filtres, conflits de variables, timeout API)
    \item Amélioration de l'ergonomie (légende visible, explications claires)
    \item Tests de performance et validation fonctionnelle
    \item Documentation complète du code
    \item Préparation de la présentation
\end{itemize}

\textbf{Résultats :}
\begin{itemize}
    \item Application complète avec 7 onglets fonctionnels
    \item Design professionnel et responsive
    \item Performance : rafraîchissement < 3 secondes
    \item Export CSV pour analyses externes
\end{itemize}

% ==========================================
\section{Fonctionnalités Principales}
% ==========================================

\subsection{Vue d'ensemble}

L'application propose 7 onglets d'analyse :

\begin{enumerate}
    \item \textbf{Carte Interactive} : Visualisation mondiale en temps réel (10~000+ vols)
    \item \textbf{Analyses} : Distributions statistiques (altitude, vitesse, pays)
    \item \textbf{Heatmap} : Densité du trafic aérien par zones géographiques
    \item \textbf{Compagnies} : Classement et analyse par compagnie aérienne
    \item \textbf{Liste des Vols} : Tableau interactif avec export CSV
    \item \textbf{Détails Vol} : Recherche d'un vol spécifique
    \item \textbf{Statistiques Globales} : Métriques agrégées et records
\end{enumerate}

\subsection{Carte Interactive}

Visualisation temps réel avec 4 couleurs par statut :
\begin{itemize}
    \item \textcolor{red}{Rouge} : Montée
    \item Noir : Descente
    \item \textcolor{blue}{Bleu} : Croisière
    \item \textcolor{gray}{Gris} : Au sol
\end{itemize}

\subsection{Heatmap de Densité}

La heatmap divise le globe en grilles de 2°×2° (environ 200 km × 200 km) et calcule le nombre de vols par zone. Cela permet d'identifier les couloirs aériens les plus fréquentés et d'estimer les zones à forte pollution atmosphérique.

\subsection{Filtres Avancés}

\begin{itemize}
    \item \textbf{Région} : 8 zones prédéfinies (Monde, Europe, USA, Asie, etc.)
    \item \textbf{Altitude} : Min/Max (0-50~000 ft)
    \item \textbf{Vitesse} : Minimum (0-600 knots)
    \item \textbf{Pays} : Filtrage par pays d'origine
    \item \textbf{Compagnie} : Sélection d'une compagnie spécifique
\end{itemize}

% ==========================================
\section{Difficultés Rencontrées et Solutions}
% ==========================================

\subsection{Difficulté 1 : Performance de la Carte}

\textbf{Problème :} Avec Plotly Scattergeo, la carte était très lente (< 5 FPS) lors de l'affichage de milliers de vols.

\textbf{Cause :} Pas d'accélération matérielle GPU, rendu uniquement CPU.

\textbf{Solution :} Migration vers Plotly Scattermapbox qui utilise Mapbox GL avec hardware acceleration → 60 FPS.

\subsection{Difficulté 2 : Timeout de l'API OAuth}

\textbf{Problème :} Erreurs de connexion fréquentes au serveur d'authentification OpenSky.

\textbf{Cause :} Timeout par défaut trop court (10 secondes).

\textbf{Solution :}
\begin{itemize}
    \item Augmentation du timeout à 30 secondes
    \item Implémentation d'un mode anonyme de secours
    \item Message d'avertissement à l'utilisateur en mode dégradé
\end{itemize}

\subsection{Difficulté 3 : Conflits de Variables Streamlit}

\textbf{Problème :} Le filtre par compagnie dans la sidebar ne fonctionnait pas correctement.

\textbf{Cause :} Deux \texttt{st.selectbox} partageaient la même variable (\texttt{selected\_airline}).

\textbf{Solution :}
\begin{itemize}
    \item Renommage des variables avec noms uniques
    \item Ajout de paramètre \texttt{key} unique pour chaque widget Streamlit
\end{itemize}

\subsection{Difficulté 4 : Compréhension de la Heatmap}

\textbf{Problème :} Les utilisateurs ne comprenaient pas ce que représentait la heatmap.

\textbf{Cause :} Manque d'explications contextuelles.

\textbf{Solution :}
\begin{itemize}
    \item Réduction de la taille des grilles (5°×5° → 2°×2°) pour plus de précision
    \item Ajout de légendes explicatives
    \item Identification géographique des zones denses (Europe de l'Ouest, etc.)
    \item Calcul de dispersion pour quantifier la concentration
\end{itemize}

% ==========================================
\section{Impact Environnemental et Pollution}
% ==========================================

\subsection{Problématique Environnementale}

L'aviation représente environ \textbf{2-3\% des émissions mondiales de CO₂}, avec une croissance annuelle de 5\% avant la pandémie. Les données ouvertes comme celles d'OpenSky permettent d'analyser ce phénomène.

\subsection{Données Exploitables pour l'Analyse Environnementale}

Avec OpenSky Network, il est possible d'estimer :

\begin{enumerate}
    \item \textbf{Densité de trafic par zone} → Zones à forte pollution atmosphérique
    \item \textbf{Nombre de vols par pays} → Contribution nationale aux émissions
    \item \textbf{Altitudes de croisière} → Efficacité énergétique
    \item \textbf{Vitesses moyennes} → Consommation de carburant
    \item \textbf{Distances parcourues} → Émissions totales estimées
\end{enumerate}

\subsection{Exemple d'Analyse : Émissions CO₂}

\textbf{Formule simplifiée :}

Un avion commercial moyen émet environ \textbf{3 kg de CO₂ par km parcouru}.

\begin{minted}[bgcolor=codebackground, frame=lines, framesep=2mm, fontsize=\small]{python}
# Calcul d'émissions pour un vol de 1000 km
distance_km = 1000
emission_factor = 3  # kg CO₂ per km
total_co2 = distance_km * emission_factor

print(f"Émissions estimées : {total_co2} kg CO₂")
# Résultat : 3000 kg CO₂ (3 tonnes)
\end{minted}

\textbf{Application à notre heatmap :}

Les zones les plus denses de notre heatmap (Amsterdam, Paris, Londres, Francfort) sont aussi les zones à plus forte concentration de pollution aérienne. Un vol dans ces couloirs aériens contribue significativement aux émissions locales de CO₂, NOx et particules fines.

\subsection{Analyse des Compagnies}

Notre outil révèle que certaines compagnies volent plus haut et plus vite :

\begin{table}[H]
\centering
\begin{tabular}{|l|r|r|}
\hline
\textbf{Compagnie} & \textbf{Alt. moy. (ft)} & \textbf{Vit. moy. (kts)} \\ \hline
Emirates (long-courrier) & 38~500 & 485 \\ \hline
Air France & 36~500 & 470 \\ \hline
Ryanair (low-cost) & 32~100 & 445 \\ \hline
\end{tabular}
\end{table}

\textbf{Interprétation environnementale :}

\begin{itemize}
    \item Les vols long-courriers (Emirates) volent plus haut → plus efficaces énergétiquement
    \item Les low-cost (Ryanair) volent plus bas → consommation légèrement supérieure
    \item Corrélation altitude-vitesse = 0.72 → voler haut permet de voler vite avec moins de résistance
\end{itemize}

\subsection{Perspectives d'Amélioration Environnementale}

Avec les données OpenSky, il serait possible d'approfondir :

\begin{enumerate}
    \item \textbf{Estimation précise des émissions} : Utiliser les modèles BADA (Base of Aircraft Data) pour calculer consommation et émissions réelles
    \item \textbf{Optimisation des routes} : Identifier les routes inefficaces et suggérer des alternatives
    \item \textbf{Analyse temporelle} : Comparer le trafic pré/post-pandémie pour quantifier l'impact environnemental
    \item \textbf{Prédictions} : Machine Learning pour anticiper les pics de pollution aérienne
    \item \textbf{Comparaisons modales} : Comparer l'empreinte carbone avion vs train pour certains trajets
\end{enumerate}

% ==========================================
\section{Résultats et Validation}
% ==========================================

\subsection{Métriques de Performance}

\begin{table}[H]
\centering
\begin{tabular}{|l|c|}
\hline
\textbf{Métrique} & \textbf{Résultat} \\ \hline
Vols simultanés affichés & 10~000+ \\ \hline
Temps de rafraîchissement & < 3 secondes \\ \hline
FPS carte interactive & 60 \\ \hline
Compagnies reconnues & 24+ \\ \hline
Zones heatmap & 16~200 (90×180 grilles) \\ \hline
\end{tabular}
\end{table}

\subsection{Fonctionnalités Livrées}

\begin{itemize}
    \item[✓] 7 onglets d'analyse fonctionnels
    \item[✓] Carte interactive temps réel
    \item[✓] 5 types de filtres avancés
    \item[✓] Export CSV pour analyses externes
    \item[✓] Heatmap de densité
    \item[✓] Analyses statistiques complètes
    \item[✓] Design moderne et responsive
\end{itemize}

\subsection{Limites Identifiées}

\begin{itemize}
    \item Données temps réel uniquement (pas d'historique intégré)
    \item Reconnaissance limitée à 24 compagnies principales
    \item Pas de calcul automatique d'émissions CO₂
    \item Dépendance à la connexion Internet
\end{itemize}

% ==========================================
\section{Améliorations Possibles}
% ==========================================

\subsection{Améliorations Techniques}

\begin{enumerate}
    \item \textbf{Base de données} : PostgreSQL pour stocker l'historique des vols
    \item \textbf{Trajectoires} : Visualisation des routes aériennes empruntées
    \item \textbf{API propre} : Développer une REST API pour chercheurs
    \item \textbf{Mode dark} : Thème sombre pour réduire fatigue oculaire
\end{enumerate}

\subsection{Améliorations Environnementales}

\begin{enumerate}
    \item \textbf{Module Émissions CO₂} : Calcul automatique basé sur distance, type d'avion, altitude
    \item \textbf{Comparateur Modal} : Comparer empreinte carbone avion vs train
    \item \textbf{Alertes Pollution} : Notifications zones à forte concentration
    \item \textbf{Analyse Temporelle} : Évolution du trafic et des émissions dans le temps
    \item \textbf{Machine Learning} : Prédiction de trafic et optimisation de routes
\end{enumerate}

\subsection{Exemple d'Amélioration : Calculateur d'Émissions}

Un module pourrait estimer les émissions d'un vol en combinant :
\begin{itemize}
    \item Distance calculée via coordonnées GPS
    \item Type d'avion (via base ICAO24)
    \item Consommation moyenne par type (base BADA)
    \item Phase de vol (décollage/croisière/atterrissage)
\end{itemize}

Cela permettrait de créer un \textbf{dashboard environnemental} montrant :
\begin{itemize}
    \item Émissions totales mondiales en temps réel
    \item Classement des pays/compagnies par empreinte carbone
    \item Évolution journalière/mensuelle
\end{itemize}

% ==========================================
\section{Conclusion}
% ==========================================

\subsection{Synthèse}

Ce projet a démontré l'intérêt des données ouvertes pour la recherche et l'analyse du trafic aérien. En 4 semaines, nous avons développé Flight Tracker Pro, un dashboard web complet permettant de visualiser plus de 10~000 vols simultanément avec des analyses statistiques avancées.

\subsection{Apport Pédagogique}

Ce projet illustre concrètement :
\begin{itemize}
    \item L'exploitation d'APIs REST publiques (open data)
    \item Le traitement de données massives en temps réel
    \item L'importance des visualisations interactives
    \item Les possibilités d'analyse environnementale avec données ouvertes
\end{itemize}

\subsection{Perspectives}

OpenSky Network constitue une ressource précieuse pour la recherche académique. Au-delà de la simple visualisation, ces données peuvent servir à :
\begin{itemize}
    \item Étudier l'impact environnemental de l'aviation
    \item Optimiser les routes aériennes pour réduire les émissions
    \item Analyser les tendances de trafic et prédire la congestion
    \item Comparer l'efficacité énergétique des compagnies et types d'avions
\end{itemize}

Le secteur aérien représentant 2-3\% des émissions mondiales de CO₂, disposer d'outils d'analyse accessibles et gratuits est essentiel pour la recherche climatique et la transition écologique.

% ==========================================
\section*{Annexes}
% ==========================================
\addcontentsline{toc}{section}{Annexes}

\subsection*{Annexe A : Installation}

\begin{minted}[bgcolor=codebackground, frame=lines, framesep=2mm]{bash}
# Cloner le projet
git clone https://github.com/username/flight-tracker-pro

# Créer environnement virtuel
python3 -m venv venv
source venv/bin/activate

# Installer dépendances
pip install -r requirements.txt

# Lancer l'application
streamlit run main.py
\end{minted}

\subsection*{Annexe B : Dépendances}

\begin{minted}[bgcolor=codebackground, frame=lines, framesep=2mm]{text}
streamlit==1.39.0
pandas==2.2.3
requests==2.32.3
plotly==5.24.1
numpy==2.3.5
scipy==1.16.3
\end{minted}

\subsection*{Annexe C : Ressources}

\begin{itemize}
    \item OpenSky Network : \url{https://opensky-network.org/}
    \item Documentation API : \url{https://openskynetwork.github.io/opensky-api/}
    \item Streamlit : \url{https://streamlit.io/}
    \item Plotly : \url{https://plotly.com/python/}
\end{itemize}

\end{document}
